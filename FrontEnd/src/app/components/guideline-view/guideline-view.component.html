<mat-card class="guideline-card">
  <mat-card-header>
    <mat-card-title>{{ guideline.title || 'Untitled Guideline' }}</mat-card-title>
    <mat-card-subtitle *ngIf="guideline.lastUpdated">Last Updated: {{ guideline.lastUpdated }}</mat-card-subtitle>
  </mat-card-header>

  <mat-card-content [class.expanded]="isExpanded">
    <div class="guideline-content" *ngIf="guideline.content">
      <div [innerHTML]="isExpanded ? guideline.content : getPreviewContent()"></div>
    </div>

    <div class="no-content" *ngIf="!guideline.content">
      <p>No content available for this guideline.</p>
    </div>

    <div *ngIf="guideline.source" class="source">
      <strong>Source:</strong> {{ guideline.source }}
    </div>
  </mat-card-content>

  <mat-card-actions *ngIf="guideline.content && guideline.content.length > 300">
    <button mat-button color="primary" (click)="toggleExpand()">
      {{ isExpanded ? 'SHOW LESS' : 'READ MORE' }}
    </button>
  </mat-card-actions>
</mat-card>
